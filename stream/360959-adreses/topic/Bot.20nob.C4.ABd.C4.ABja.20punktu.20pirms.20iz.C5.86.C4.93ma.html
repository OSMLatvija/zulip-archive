<html>
<head><meta charset="utf-8"><title>Bot nobīdīja punktu pirms izņēma · adreses · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://osmlatvija.github.io/zulip-archive/stream/360959-adreses/index.html">adreses</a></h2>
<h3>Topic: <a href="https://osmlatvija.github.io/zulip-archive/stream/360959-adreses/topic/Bot.20nob.C4.ABd.C4.ABja.20punktu.20pirms.20iz.C5.86.C4.93ma.html">Bot nobīdīja punktu pirms izņēma</a></h3>

<hr>

<base href="https://osmlatvija.zulipchat.com">

<head><link href="https://osmlatvija.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="356768274"></a>
<h4><a href="https://osmlatvija.zulipchat.com#narrow/stream/360959-adreses/topic/Bot%20nob%C4%ABd%C4%ABja%20punktu%20pirms%20iz%C5%86%C4%93ma/near/356768274" class="zl"><img src="https://osmlatvija.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> HellMap <a href="https://osmlatvija.github.io/zulip-archive/stream/360959-adreses/topic/Bot.20nob.C4.ABd.C4.ABja.20punktu.20pirms.20iz.C5.86.C4.93ma.html#356768274">(May 08 2023 at 17:06)</a>:</h4>
<p>No tā, ko es sapratu: Kartētājs (nepareizi) savienoja adreses punktu ar mežu un ceļu <a href="https://www.openstreetmap.org/changeset/135142325">https://www.openstreetmap.org/changeset/135142325</a> punktā <a href="https://www.openstreetmap.org/node/10875821717">https://www.openstreetmap.org/node/10875821717</a> (A). <a href="https://github.com/Davis-Klavins/osm-latvia-bot">Bots</a> pēc tam "izņēma" ārā adreses punktu. Bet sanāk, ka vispirms aizbīdīja šo punktu uz adreses vietu un tikai tad izņēma, tādējādi arī nobīdot meža/ceļa punktu (B). <br>
<a href="/user_uploads/49624/fvy7lRp2WWXy-0OA0nlNe1Az/a-bots-punkts.png">a-bots-punkts.png</a><br>
<a href="/user_uploads/49624/vuhcl5MJMVpVS7a8BaCYfH9N/b-bot-spunkts.png">b-bot-spunkts.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/49624/fvy7lRp2WWXy-0OA0nlNe1Az/a-bots-punkts.png" title="a-bots-punkts.png"><img src="/user_uploads/49624/fvy7lRp2WWXy-0OA0nlNe1Az/a-bots-punkts.png"></a></div><div class="message_inline_image"><a href="/user_uploads/49624/vuhcl5MJMVpVS7a8BaCYfH9N/b-bot-spunkts.png" title="b-bot-spunkts.png"><img src="/user_uploads/49624/vuhcl5MJMVpVS7a8BaCYfH9N/b-bot-spunkts.png"></a></div><div class="message_embed"><a class="message_embed_image" href="https://www.openstreetmap.org/changeset/135142325" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/6216f4773cbede236f0589ddcc1cf59e83a3b7bb\/68747470733a2f2f7777772e6f70656e7374726565746d61702e6f72672f6173736574732f6f736d5f6c6f676f5f3235362d656430323866393034363832323461323732393631633338306563656530636662373362383034386233346634623462323034623766306431303937383735642e706e67)"></a><div class="data-container"><div class="message_embed_title"><a href="https://www.openstreetmap.org/changeset/135142325" title="Changeset: 135142325 | OpenStreetMap">Changeset: 135142325 | OpenStreetMap</a></div><div class="message_embed_description">OpenStreetMap is a map of the world, created by people like you and free to use under an open license.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://www.openstreetmap.org/node/10875821717" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/6216f4773cbede236f0589ddcc1cf59e83a3b7bb\/68747470733a2f2f7777772e6f70656e7374726565746d61702e6f72672f6173736574732f6f736d5f6c6f676f5f3235362d656430323866393034363832323461323732393631633338306563656530636662373362383034386233346634623462323034623766306431303937383735642e706e67)"></a><div class="data-container"><div class="message_embed_title"><a href="https://www.openstreetmap.org/node/10875821717" title="Node: 10875821717 | OpenStreetMap">Node: 10875821717 | OpenStreetMap</a></div><div class="message_embed_description">OpenStreetMap is a map of the world, created by people like you and free to use under an open license.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/Davis-Klavins/osm-latvia-bot" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/1bf0a6bd2cfaeaea47920d05b4ebbab90bdc8268\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f656339393438333234363030346562303165353230303865646333316563356562313166616462613832633431396139313030356666333236326232353161632f44617669732d4b6c6176696e732f6f736d2d6c61747669612d626f74)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/Davis-Klavins/osm-latvia-bot" title="GitHub - Davis-Klavins/osm-latvia-bot: Collection of scripts to update and maintain OpenStreetMap data in Latvia (currently only addresses). See https://wiki.openstreetmap.org/wiki/Automated_edits/Latvia-bot.">GitHub - Davis-Klavins/osm-latvia-bot: Collection of scripts to update and maintain OpenStreetMap data in Latvia (currently only addresses). See https://wiki.openstreetmap.org/wiki/Automated_edits/Latvia-bot.</a></div><div class="message_embed_description">Collection of scripts to update and maintain OpenStreetMap data in Latvia (currently only addresses). See https://wiki.openstreetmap.org/wiki/Automated_edits/Latvia-bot. - GitHub - Davis-Klavins/os...</div></div></div>



<a name="356774714"></a>
<h4><a href="https://osmlatvija.zulipchat.com#narrow/stream/360959-adreses/topic/Bot%20nob%C4%ABd%C4%ABja%20punktu%20pirms%20iz%C5%86%C4%93ma/near/356774714" class="zl"><img src="https://osmlatvija.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dāvis Kļaviņš <a href="https://osmlatvija.github.io/zulip-archive/stream/360959-adreses/topic/Bot.20nob.C4.ABd.C4.ABja.20punktu.20pirms.20iz.C5.86.C4.93ma.html#356774714">(May 08 2023 at 17:34)</a>:</h4>
<p>Labi, ka kāds pārbauda. :) Kodā salaboju: <a href="https://github.com/Davis-Klavins/osm-latvia-bot/commit/731b91895cefab13b6cc55babd0e38ea6d2a2860">https://github.com/Davis-Klavins/osm-latvia-bot/commit/731b91895cefab13b6cc55babd0e38ea6d2a2860</a>. Konkrēto gadījumu izlaboju manuāli: <a href="https://www.openstreetmap.org/changeset/135863114">https://www.openstreetmap.org/changeset/135863114</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/Davis-Klavins/osm-latvia-bot/commit/731b91895cefab13b6cc55babd0e38ea6d2a2860" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/dc549711ae0849f4a1a91ba20ac7861f3ae37f8d\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f646364633732663964333336613731623361636564303037653336623138323862623038393335613231396230363234323665383235383133343238336534302f44617669732d4b6c6176696e732f6f736d2d6c61747669612d626f742f636f6d6d69742f37333162393138393563656661623133623663633535626162643065333865613664326132383630)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/Davis-Klavins/osm-latvia-bot/commit/731b91895cefab13b6cc55babd0e38ea6d2a2860" title="Update addresses.sql · Davis-Klavins/osm-latvia-bot@731b918">Update addresses.sql · Davis-Klavins/osm-latvia-bot@731b918</a></div><div class="message_embed_description">Corrected bug reported at https://osmlatvija.github.io/zulip-archive/stream/360959-adreses/topic/Bot.20nob.C4.ABd.C4.ABja.20punktu.20pirms.20iz.C5.86.C4.93ma.html.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://www.openstreetmap.org/changeset/135863114" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/6216f4773cbede236f0589ddcc1cf59e83a3b7bb\/68747470733a2f2f7777772e6f70656e7374726565746d61702e6f72672f6173736574732f6f736d5f6c6f676f5f3235362d656430323866393034363832323461323732393631633338306563656530636662373362383034386233346634623462323034623766306431303937383735642e706e67)"></a><div class="data-container"><div class="message_embed_title"><a href="https://www.openstreetmap.org/changeset/135863114" title="Changeset: 135863114 | OpenStreetMap">Changeset: 135863114 | OpenStreetMap</a></div><div class="message_embed_description">OpenStreetMap is a map of the world, created by people like you and free to use under an open license.</div></div></div>



<a name="356781999"></a>
<h4><a href="https://osmlatvija.zulipchat.com#narrow/stream/360959-adreses/topic/Bot%20nob%C4%ABd%C4%ABja%20punktu%20pirms%20iz%C5%86%C4%93ma/near/356781999" class="zl"><img src="https://osmlatvija.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> i-ky <a href="https://osmlatvija.github.io/zulip-archive/stream/360959-adreses/topic/Bot.20nob.C4.ABd.C4.ABja.20punktu.20pirms.20iz.C5.86.C4.93ma.html#356781999">(May 08 2023 at 18:07)</a>:</h4>
<p>Varbūt ir vērts paskatīties uz <a href="https://github.com/matkoniecz/osm_bot_abstraction_layer">https://github.com/matkoniecz/osm_bot_abstraction_layer</a> vai līdzīgām bibliotēkām, lai mazinātu tādu kļūdu iespējamību?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/matkoniecz/osm_bot_abstraction_layer" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/5019b23738b58e9601d8bf5afe0efddd175655d4\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f653133306437316239376464316639366166636265356536633062393866326635636561656534393538336566616238623536313363663633326334323864312f6d61746b6f6e6965637a2f6f736d5f626f745f6162737472616374696f6e5f6c61796572)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/matkoniecz/osm_bot_abstraction_layer" title="GitHub - matkoniecz/osm_bot_abstraction_layer: OSM bot abstraction layer building upon osmapi, to make easier to automate edits without causing problems.">GitHub - matkoniecz/osm_bot_abstraction_layer: OSM bot abstraction layer building upon osmapi, to make easier to automate edits without causing problems.</a></div><div class="message_embed_description">OSM bot abstraction layer building upon osmapi, to make easier to automate edits without causing problems. - GitHub - matkoniecz/osm_bot_abstraction_layer: OSM bot abstraction layer building upon o...</div></div></div>



<a name="356793092"></a>
<h4><a href="https://osmlatvija.zulipchat.com#narrow/stream/360959-adreses/topic/Bot%20nob%C4%ABd%C4%ABja%20punktu%20pirms%20iz%C5%86%C4%93ma/near/356793092" class="zl"><img src="https://osmlatvija.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dāvis Kļaviņš <a href="https://osmlatvija.github.io/zulip-archive/stream/360959-adreses/topic/Bot.20nob.C4.ABd.C4.ABja.20punktu.20pirms.20iz.C5.86.C4.93ma.html#356793092">(May 08 2023 at 19:09)</a>:</h4>
<p>Tur jau ir dažādi pitona skripti datu labošanai, neiztēlojos, kā tas varētu palīdzēt. Adrešu botā labošana tiek veikta ar PL/pgSQL. Konkrētās kļūdas jau viegli atrast:</p>
<div class="codehilite" data-code-language="SQL"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="n">a</span>
<span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">geom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">geom</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">tags</span><span class="p">::</span><span class="nb">TEXT</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">'%addr:%'</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">node_id</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">way_nodes</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="k">version</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</code></pre></div>
<p>Bija vēl pāris, <a href="https://www.openstreetmap.org/changeset/135866119">salaboju</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://www.openstreetmap.org/changeset/135866119" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/6216f4773cbede236f0589ddcc1cf59e83a3b7bb\/68747470733a2f2f7777772e6f70656e7374726565746d61702e6f72672f6173736574732f6f736d5f6c6f676f5f3235362d656430323866393034363832323461323732393631633338306563656530636662373362383034386233346634623462323034623766306431303937383735642e706e67)"></a><div class="data-container"><div class="message_embed_title"><a href="https://www.openstreetmap.org/changeset/135866119" title="Changeset: 135866119 | OpenStreetMap">Changeset: 135866119 | OpenStreetMap</a></div><div class="message_embed_description">OpenStreetMap is a map of the world, created by people like you and free to use under an open license.</div></div></div>



<a name="356905750"></a>
<h4><a href="https://osmlatvija.zulipchat.com#narrow/stream/360959-adreses/topic/Bot%20nob%C4%ABd%C4%ABja%20punktu%20pirms%20iz%C5%86%C4%93ma/near/356905750" class="zl"><img src="https://osmlatvija.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rihards Olups <a href="https://osmlatvija.github.io/zulip-archive/stream/360959-adreses/topic/Bot.20nob.C4.ABd.C4.ABja.20punktu.20pirms.20iz.C5.86.C4.93ma.html#356905750">(May 09 2023 at 08:27)</a>:</h4>
<p>Arī kaut kas šāds tur ir, bet tādu human-friendly sarakstu gan neatradu.</p>
<blockquote>
<p>For example, automated edit may change many objects across large area. In that case it is preferable to split it into multiple edits to avoid country-sized bounding boxes. This logic is available as one of tools included in this project.</p>
</blockquote>



<a name="356909480"></a>
<h4><a href="https://osmlatvija.zulipchat.com#narrow/stream/360959-adreses/topic/Bot%20nob%C4%ABd%C4%ABja%20punktu%20pirms%20iz%C5%86%C4%93ma/near/356909480" class="zl"><img src="https://osmlatvija.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> i-ky <a href="https://osmlatvija.github.io/zulip-archive/stream/360959-adreses/topic/Bot.20nob.C4.ABd.C4.ABja.20punktu.20pirms.20iz.C5.86.C4.93ma.html#356909480">(May 09 2023 at 08:41)</a>:</h4>
<p>Arī</p>
<blockquote>
<p><code>changeset_comment</code>, <code>discussion_url</code>, <code>osm_wiki_documentation_page</code> parameter values are used to apply correct changeset tags</p>
</blockquote>



<hr><p>Last updated: Mar 02 2026 at 10:27 UTC</p>
</html>